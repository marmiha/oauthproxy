import{S as w,i as x,s as T,k as P,q as _,l as B,m as E,r as p,h as u,n as C,b as a,E as M,u as Y,F as m,v as L,d as $,f as q,g as d,o as j,e as v,M as z,y as g,z as b,A as k,B as y,L as F}from"../chunks/index.9bc38fcc.js";import{p as D}from"../chunks/stores.327e777a.js";function G(s){let r,e;return{c(){r=P("span"),e=_(s[0]),this.h()},l(n){r=B(n,"SPAN",{class:!0});var l=E(r);e=p(l,s[0]),l.forEach(u),this.h()},h(){C(r,"class","svelte-7l1s0i")},m(n,l){a(n,r,l),M(r,e)},p(n,[l]){l&1&&Y(e,n[0])},i:m,o:m,d(n){n&&u(r)}}}function H(s,r,e){let{text:n=""}=r;return s.$$set=l=>{"text"in l&&e(0,n=l.text)},[n]}class S extends w{constructor(r){super(),x(this,r,H,G,T,{text:0})}}function A(s,r,e){const n=s.slice();return n[0]=r[e],n[3]=e,n}function I(s){let r,e,n,l=s[1],t=[];for(let i=0;i<l.length;i+=1)t[i]=N(A(s,l,i));const o=i=>$(t[i],1,1,()=>{t[i]=null});return{c(){r=_(`This server is configured for the following providers:
		`);for(let i=0;i<t.length;i+=1)t[i].c();e=v()},l(i){r=p(i,`This server is configured for the following providers:
		`);for(let c=0;c<t.length;c+=1)t[c].l(i);e=v()},m(i,c){a(i,r,c);for(let f=0;f<t.length;f+=1)t[f].m(i,c);a(i,e,c),n=!0},p(i,c){if(c&2){l=i[1];let f;for(f=0;f<l.length;f+=1){const h=A(i,l,f);t[f]?(t[f].p(h,c),d(t[f],1)):(t[f]=N(h),t[f].c(),d(t[f],1),t[f].m(e.parentNode,e))}for(L(),f=l.length;f<t.length;f+=1)o(f);q()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)d(t[c]);n=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)$(t[c]);n=!1},d(i){i&&u(r),z(t,i),i&&u(e)}}}function J(s){let r,e,n,l;return e=new S({props:{text:s[1][0]}}),{c(){r=_("This server is configured only for "),g(e.$$.fragment),n=_(" provider.")},l(t){r=p(t,"This server is configured only for "),b(e.$$.fragment,t),n=p(t," provider.")},m(t,o){a(t,r,o),k(e,t,o),a(t,n,o),l=!0},p(t,o){const i={};o&2&&(i.text=t[1][0]),e.$set(i)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){t&&u(r),y(e,t),t&&u(n)}}}function K(s){let r;return{c(){r=_("This server is not configured for any providers.")},l(e){r=p(e,"This server is not configured for any providers.")},m(e,n){a(e,r,n)},p:m,i:m,o:m,d(e){e&&u(r)}}}function O(s){let r;return{c(){r=_("Loading...")},l(e){r=p(e,"Loading...")},m(e,n){a(e,r,n)},p:m,i:m,o:m,d(e){e&&u(r)}}}function Q(s){let r,e,n,l;return e=new S({props:{text:s[0]}}),{c(){r=_("Successful authentication with "),g(e.$$.fragment),n=_("! You can now close this window.")},l(t){r=p(t,"Successful authentication with "),b(e.$$.fragment,t),n=p(t,"! You can now close this window.")},m(t,o){a(t,r,o),k(e,t,o),a(t,n,o),l=!0},p(t,o){const i={};o&1&&(i.text=t[0]),e.$set(i)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){t&&u(r),y(e,t),t&&u(n)}}}function R(s){let r=" ",e,n,l=" ",t;return{c(){e=_(r),n=_("and"),t=_(l)},l(o){e=p(o,r),n=p(o,"and"),t=p(o,l)},m(o,i){a(o,e,i),a(o,n,i),a(o,t,i)},p:m,d(o){o&&u(e),o&&u(n),o&&u(t)}}}function U(s){let r;function e(t,o){return t[1].length!==t[3]+1?W:V}let n=e(s),l=n(s);return{c(){l.c(),r=v()},l(t){l.l(t),r=v()},m(t,o){l.m(t,o),a(t,r,o)},p(t,o){n!==(n=e(t))&&(l.d(1),l=n(t),l&&(l.c(),l.m(r.parentNode,r)))},d(t){l.d(t),t&&u(r)}}}function V(s){let r;return{c(){r=_(".")},l(e){r=p(e,".")},m(e,n){a(e,r,n)},d(e){e&&u(r)}}}function W(s){let r,e=" ",n;return{c(){r=_(","),n=_(e)},l(l){r=p(l,","),n=p(l,e)},m(l,t){a(l,r,t),a(l,n,t)},d(l){l&&u(r),l&&u(n)}}}function N(s){let r,e,n;r=new S({props:{text:s[0]}});function l(i,c){return i[1].length-2!==i[3]?U:R}let t=l(s),o=t(s);return{c(){g(r.$$.fragment),o.c(),e=v()},l(i){b(r.$$.fragment,i),o.l(i),e=v()},m(i,c){k(r,i,c),o.m(i,c),a(i,e,c),n=!0},p(i,c){const f={};c&2&&(f.text=i[0]),r.$set(f),t===(t=l(i))&&o?o.p(i,c):(o.d(1),o=t(i),o&&(o.c(),o.m(e.parentNode,e)))},i(i){n||(d(r.$$.fragment,i),n=!0)},o(i){$(r.$$.fragment,i),n=!1},d(i){y(r,i),o.d(i),i&&u(e)}}}function X(s){let r,e,n,l;const t=[Q,O,K,J,I],o=[];function i(c,f){return c[0]?0:c[1]===null?1:c[1].length===0?2:c[1].length===1?3:c[1].length>1?4:-1}return~(e=i(s))&&(n=o[e]=t[e](s)),{c(){r=P("p"),n&&n.c()},l(c){r=B(c,"P",{});var f=E(r);n&&n.l(f),f.forEach(u)},m(c,f){a(c,r,f),~e&&o[e].m(r,null),l=!0},p(c,[f]){let h=e;e=i(c),e===h?~e&&o[e].p(c,f):(n&&(L(),$(o[h],1,1,()=>{o[h]=null}),q()),~e?(n=o[e],n?n.p(c,f):(n=o[e]=t[e](c),n.c()),d(n,1),n.m(r,null)):n=null)},i(c){l||(d(n),l=!0)},o(c){$(n),l=!1},d(c){c&&u(r),~e&&o[e].d()}}}function Z(s,r,e){let{provider:n}=r,l=null;return j(async()=>{const t=await fetch("/supported");e(1,l=await t.json())}),s.$$set=t=>{"provider"in t&&e(0,n=t.provider)},[n,l]}class ee extends w{constructor(r){super(),x(this,r,Z,X,T,{provider:0})}}function te(s){let r,e;return r=new ee({props:{provider:s[0]}}),{c(){g(r.$$.fragment)},l(n){b(r.$$.fragment,n)},m(n,l){k(r,n,l),e=!0},p:m,i(n){e||(d(r.$$.fragment,n),e=!0)},o(n){$(r.$$.fragment,n),e=!1},d(n){y(r,n)}}}function re(s,r,e){let n;return F(s,D,t=>e(1,n=t)),[n.url.searchParams.get("provider")]}class ie extends w{constructor(r){super(),x(this,r,re,te,T,{})}}export{ie as default};
